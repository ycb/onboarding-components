<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onboarding Components - Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .component-demo {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
        }
        .step-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        .step {
            display: flex;
            align-items: center;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            margin-right: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .step.completed {
            background-color: #10b981;
            color: white;
        }
        .step.current {
            background-color: #3b82f6;
            color: white;
        }
        .step.pending {
            background-color: #f3f4f6;
            color: #6b7280;
        }
        .step-connector {
            width: 2rem;
            height: 2px;
            background-color: #e5e7eb;
            margin: 0 0.5rem;
        }
        .upload-card {
            border: 2px dashed #d1d5db;
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.2s;
            cursor: pointer;
        }
        .upload-card:hover {
            border-color: #3b82f6;
            background-color: #f8fafc;
        }
        .upload-card.dragover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .file-icon {
            width: 3rem;
            height: 3rem;
            margin: 0 auto 1rem;
            color: #6b7280;
        }
        .upload-button {
            background-color: #3b82f6;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        .upload-button:hover {
            background-color: #2563eb;
        }
        .upload-button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        .file-input {
            display: none;
        }
        .progress-bar {
            width: 100%;
            height: 0.5rem;
            background-color: #e5e7eb;
            border-radius: 0.25rem;
            overflow: hidden;
            margin: 1rem 0;
        }
        .progress-fill {
            height: 100%;
            background-color: #3b82f6;
            transition: width 0.3s ease;
        }
        .demo-section {
            margin: 3rem 0;
        }
        .demo-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }
        .demo-description {
            color: #6b7280;
            margin-bottom: 2rem;
        }
        .code-block {
            background-color: #f8fafc;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .status-success {
            background-color: #dcfce7;
            color: #166534;
        }
        .status-warning {
            background-color: #fef3c7;
            color: #92400e;
        }
        .status-error {
            background-color: #fee2e2;
            color: #991b1b;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="demo-container">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">Onboarding Components</h1>
            <p class="text-xl text-gray-600 mb-6">React components for onboarding flows with progress tracking and file uploads</p>
            <div class="flex justify-center gap-4">
                <a href="https://github.com/ycb/onboarding-components" class="bg-gray-900 text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors">
                    📚 View on GitHub
                </a>
                <button onclick="copyInstallCommand()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                    📦 Copy Install Command
                </button>
            </div>
        </div>

        <!-- Installation -->
        <div class="component-demo">
            <h2 class="text-2xl font-semibold mb-4">Installation</h2>
            <div class="code-block">
npm install @ycb/onboarding-components
            </div>
            <p class="text-sm text-gray-600 mt-2">
                <strong>Peer Dependencies:</strong> react, react-dom, @radix-ui/react-progress, @radix-ui/react-slot, class-variance-authority, clsx, lucide-react, tailwind-merge
            </p>
        </div>

        <!-- Progress Bar Demo -->
        <div class="component-demo">
            <h2 class="text-2xl font-semibold mb-4">ProgressBar Component</h2>
            <p class="text-gray-600 mb-6">Step-by-step progress tracking with visual indicators</p>
            
            <div id="progress-demo"></div>
            
            <div class="mt-6">
                <h3 class="text-lg font-medium mb-3">Usage Example</h3>
                <div class="code-block">
const steps = [
  { id: 'welcome', label: 'Welcome', status: 'completed' },
  { id: 'upload', label: 'Content', status: 'current' },
  { id: 'review', label: 'Review', status: 'pending' }
];

&lt;ProgressBar steps={steps} currentStep="upload" /&gt;
                </div>
            </div>
        </div>

        <!-- Content Upload Demo -->
        <div class="component-demo">
            <h2 class="text-2xl font-semibold mb-4">ContentUpload Component</h2>
            <p class="text-gray-600 mb-6">File upload cards with drag & drop, text input, and LinkedIn URL support</p>
            
            <div id="upload-demo"></div>
            
            <div class="mt-6">
                <h3 class="text-lg font-medium mb-3">Usage Example</h3>
                <div class="code-block">
const config = {
  type: 'resume',
  title: 'Resume',
  description: 'Upload your resume to get started',
  icon: FileText,
  required: true
};

&lt;ContentUpload 
  config={config}
  onFileUpload={(file) => console.log('File uploaded:', file)}
  onUploadComplete={(fileId, type) => console.log('Upload complete:', fileId)}
  onUploadError={(error) => console.error('Upload error:', error)}
/&gt;
                </div>
            </div>
        </div>

        <!-- Features -->
        <div class="component-demo">
            <h2 class="text-2xl font-semibold mb-4">Features</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-medium mb-3">ProgressBar Features</h3>
                    <ul class="space-y-2 text-gray-600">
                        <li>✅ Step-by-step progress tracking</li>
                        <li>✅ Visual status indicators</li>
                        <li>✅ Customizable styling</li>
                        <li>✅ Accessibility support</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-medium mb-3">ContentUpload Features</h3>
                    <ul class="space-y-2 text-gray-600">
                        <li>✅ Drag & drop file upload</li>
                        <li>✅ Multiple file types support</li>
                        <li>✅ Built-in validation</li>
                        <li>✅ Error handling</li>
                        <li>✅ LinkedIn URL support</li>
                        <li>✅ Text input option</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- API Reference -->
        <div class="component-demo">
            <h2 class="text-2xl font-semibold mb-4">API Reference</h2>
            
            <div class="mb-6">
                <h3 class="text-lg font-medium mb-3">ProgressBar Props</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b">
                                <th class="text-left py-2">Prop</th>
                                <th class="text-left py-2">Type</th>
                                <th class="text-left py-2">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="py-2 font-mono">steps</td>
                                <td class="py-2">ProgressStep[]</td>
                                <td class="py-2">Array of step objects</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2 font-mono">currentStep</td>
                                <td class="py-2">string</td>
                                <td class="py-2">ID of current step</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2 font-mono">className</td>
                                <td class="py-2">string</td>
                                <td class="py-2">Additional CSS classes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div>
                <h3 class="text-lg font-medium mb-3">ContentUpload Props</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b">
                                <th class="text-left py-2">Prop</th>
                                <th class="text-left py-2">Type</th>
                                <th class="text-left py-2">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="py-2 font-mono">config</td>
                                <td class="py-2">UploadConfig</td>
                                <td class="py-2">Upload configuration object</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2 font-mono">onFileUpload</td>
                                <td class="py-2">(file: File) => void</td>
                                <td class="py-2">File upload handler</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2 font-mono">onUploadComplete</td>
                                <td class="py-2">(fileId: string, type: string) => void</td>
                                <td class="py-2">Upload completion handler</td>
                            </tr>
                            <tr class="border-b">
                                <td class="py-2 font-mono">onUploadError</td>
                                <td class="py-2">(error: string) => void</td>
                                <td class="py-2">Error handler</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-12 py-8 border-t">
            <p class="text-gray-600 mb-4">Made with ❤️ for better onboarding experiences</p>
            <div class="flex justify-center gap-4">
                <a href="https://github.com/ycb/onboarding-components" class="text-blue-600 hover:text-blue-800">GitHub</a>
                <span class="text-gray-300">•</span>
                <a href="https://www.npmjs.com/package/@ycb/onboarding-components" class="text-blue-600 hover:text-blue-800">NPM</a>
                <span class="text-gray-300">•</span>
                <span class="text-gray-600">MIT License</span>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Progress Bar Component
        function ProgressBar({ steps, currentStep, className = "" }) {
            return (
                <div className={`step-indicator ${className}`}>
                    {steps.map((step, index) => (
                        <React.Fragment key={step.id}>
                            <div className={`step ${step.status}`}>
                                {step.status === 'completed' && '✓ '}
                                {step.label}
                            </div>
                            {index < steps.length - 1 && <div className="step-connector" />}
                        </React.Fragment>
                    ))}
                </div>
            );
        }

        // Content Upload Component
        function ContentUpload({ config, onFileUpload, onUploadComplete, onUploadError, className = "" }) {
            const [isDragging, setIsDragging] = useState(false);
            const [uploadedFile, setUploadedFile] = useState(null);
            const [uploadProgress, setUploadProgress] = useState(0);
            const [status, setStatus] = useState('idle');

            const handleDragOver = (e) => {
                e.preventDefault();
                setIsDragging(true);
            };

            const handleDragLeave = (e) => {
                e.preventDefault();
                setIsDragging(false);
            };

            const handleDrop = (e) => {
                e.preventDefault();
                setIsDragging(false);
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFileUpload(files[0]);
                }
            };

            const handleFileSelect = (e) => {
                const files = e.target.files;
                if (files.length > 0) {
                    handleFileUpload(files[0]);
                }
            };

            const handleFileUpload = (file) => {
                setStatus('uploading');
                setUploadProgress(0);
                
                // Simulate upload progress
                const interval = setInterval(() => {
                    setUploadProgress(prev => {
                        if (prev >= 100) {
                            clearInterval(interval);
                            setStatus('success');
                            setUploadedFile(file);
                            onFileUpload && onFileUpload(file);
                            onUploadComplete && onUploadComplete('file-id', config.type);
                            return 100;
                        }
                        return prev + 10;
                    });
                }, 100);
            };

            const resetUpload = () => {
                setUploadedFile(null);
                setUploadProgress(0);
                setStatus('idle');
            };

            return (
                <div className={`upload-card ${isDragging ? 'dragover' : ''} ${className}`}
                     onDragOver={handleDragOver}
                     onDragLeave={handleDragLeave}
                     onDrop={handleDrop}
                     onClick={() => document.getElementById('file-input').click()}>
                    
                    <input
                        id="file-input"
                        type="file"
                        className="file-input"
                        onChange={handleFileSelect}
                        accept=".pdf,.doc,.docx,.txt"
                    />
                    
                    {uploadedFile ? (
                        <div className="text-center">
                            <div className="file-icon">📄</div>
                            <h3 className="text-lg font-medium text-gray-900 mb-2">
                                {uploadedFile.name}
                            </h3>
                            <p className="text-sm text-gray-600 mb-4">
                                {config.description}
                            </p>
                            <div className="flex gap-2 justify-center">
                                <button 
                                    onClick={resetUpload}
                                    className="upload-button bg-gray-600 hover:bg-gray-700"
                                >
                                    Change File
                                </button>
                                <span className="status-badge status-success">
                                    ✓ Uploaded
                                </span>
                            </div>
                        </div>
                    ) : (
                        <div className="text-center">
                            <div className="file-icon">📁</div>
                            <h3 className="text-lg font-medium text-gray-900 mb-2">
                                {config.title}
                            </h3>
                            <p className="text-sm text-gray-600 mb-4">
                                {config.description}
                            </p>
                            
                            {status === 'uploading' && (
                                <div className="mb-4">
                                    <div className="progress-bar">
                                        <div 
                                            className="progress-fill" 
                                            style={{ width: `${uploadProgress}%` }}
                                        />
                                    </div>
                                    <p className="text-sm text-gray-600">
                                        Uploading... {uploadProgress}%
                                    </p>
                                </div>
                            )}
                            
                            <button 
                                className="upload-button"
                                disabled={status === 'uploading'}
                            >
                                {status === 'uploading' ? 'Uploading...' : 'Choose File'}
                            </button>
                            
                            <p className="text-xs text-gray-500 mt-2">
                                or drag and drop your file here
                            </p>
                        </div>
                    )}
                </div>
            );
        }

        // Demo App
        function DemoApp() {
            const [currentStep, setCurrentStep] = useState('upload');
            
            const steps = [
                { id: 'welcome', label: 'Welcome', status: 'completed' },
                { id: 'upload', label: 'Content', status: currentStep === 'upload' ? 'current' : 'pending' },
                { id: 'review', label: 'Review', status: 'pending' }
            ];

            const uploadConfig = {
                type: 'resume',
                title: 'Resume',
                description: 'Upload your resume to get started',
                required: true
            };

            const handleFileUpload = (file) => {
                console.log('File uploaded:', file);
            };

            const handleUploadComplete = (fileId, type) => {
                console.log('Upload complete:', fileId, type);
                setCurrentStep('review');
            };

            const handleUploadError = (error) => {
                console.error('Upload error:', error);
            };

            return (
                <div>
                    <ProgressBar steps={steps} currentStep={currentStep} />
                    <ContentUpload 
                        config={uploadConfig}
                        onFileUpload={handleFileUpload}
                        onUploadComplete={handleUploadComplete}
                        onUploadError={handleUploadError}
                    />
                </div>
            );
        }

        // Render demos
        ReactDOM.render(<DemoApp />, document.getElementById('progress-demo'));
        ReactDOM.render(<DemoApp />, document.getElementById('upload-demo'));
    </script>

    <script>
        function copyInstallCommand() {
            navigator.clipboard.writeText('npm install @ycb/onboarding-components');
            alert('Install command copied to clipboard!');
        }
    </script>
</body>
</html>
